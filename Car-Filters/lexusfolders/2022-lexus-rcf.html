<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="with=device-width", initial-scale="1.0">
    <!--helps make the website responsive-->
    <title>CARS</title>
    <link rel="stylesheet" href="../../style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;600;700&family=Rubik+Bubbles&display=swap" rel="stylesheet">
</head>
<body>
    <section class="headerlexusRCF">
        <nav>
            <a href="../../index.html"><img src="../../images/logo.png"></a>
            <div class="nav-links">
                <ul>
                    <li><a href="../../index.html">HOME</a></li>
                    <li><a href="../../about.html">ABOUT</a></li>
                    <li><a href="../../inventory.html">INVENTORY</a></li>
                    <li><a href="../../Quiz.html">QUIZ</a></li>
                    <li><a href="../../profile.html">PROFILE</a></li>
                    </ul>
                    <script>
                    var loader = document.getElementById("preloader");
                    window.addEventListener("load", function(){
                        loader.style.display = "none";
                    })
                </script>
            </div>
        </nav>

<div class="text-box">
    <h1>2022 Lexus RC F</h1>
        <!--the <br> means there is a line break and makes the text into two lines-->
        <p>Starting at $67,845</p>
        <!--button to next link-->
        <a href="inventory.html" class="inv-btn">Explore the Lexus RC F</a>
</div>

<div class="container">
  <img class="lexusrcf" src="https://user-images.githubusercontent.com/111478625/217332531-704371c8-6b61-4f32-b2a3-14beb20c1087.png" alt="2022-lexus-rcf">
  <div class="information-text">
    <p>Pricing</p>
    <h3>Affordable Luxury</h3>
    <h3 class="script"><script src="https://code.jquery.com/jquery-3.6.0.min.js"></script> hello there</h3>
    </div>
</div>

<container class="Commentssection">
<html>
  <head>
    <title>User Comments</title>
  </head>
  <body>
    <h1>User Comments</h1>
    <div id="comments">
      <!-- comments will be displayed here -->
    </div>
    <h2>Add a Comment</h2>
    <form id="comment-form">
      <label>
        Name:
        <input type="text" id="username" required>
      </label>
      <br><br>
      <label>
        Comment:
        <textarea id="comment" required></textarea>
      </label>
      <br><br>
      <button type="submit">Submit</button>
    </form>

<script>
const commentsDiv = document.querySelector('#comments');

// Fetch comments and display them
async function fetchAndDisplayComments() {
  try {
    const response = await fetch('https://cars.nighthawkcodingsociety.com/comments');
    const comments = await response.json();
    commentsDiv.innerHTML = '';
    comments.forEach(comment => {
      commentsDiv.innerHTML += `
      <p><strong>${comment[1]}</strong> said: ${comment[2]}</p>
      `;
    });
  } catch (error) {
    console.error(error);
  }
}

const form = document.querySelector('form');

// Handle form submissions

const headers = {
          method: 'GET',
          cache: 'default',
          mode: 'cors',
          credentials: 'omit', 
          headers: {
            'Content-Type': 'application/json',
          },
          
form.addEventListener('submit', async event => {
  event.preventDefault();
  const username = document.querySelector('#username').value;
  const comment = document.querySelector('#comment').value;
  const response = await fetch('https://cars.nighthawkcodingsociety.com/comments', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({ username, comment })
  });
  if (response.ok) {
    form.reset();
    fetchAndDisplayComments();
  }
});

fetchAndDisplayComments();

    
 </script>
  </body>
</html>
</container>



<style>

.container {
  margin-top: 700px;
  display: flex;
  flex-direction: row;
}

.information-text {
  padding: 10px;
}

.container .lexusrcf{
    float:left;
    position: relative;
    margin-left: 30px;
} 

.Commentssection {
        width: 80%;
        margin: 0 auto;
        text-align: center;
      }

      #comments {
        background-color: lightgray;
        padding: 10px;
        border-radius: 10px;
        margin-bottom: 20px;
      }

      #comment-form {
        display: flex;
        flex-direction: column;
        align-items: center;
        background-color: lightgray;
        padding: 20px;
        border-radius: 10px;
        margin-left: 200px;
      }

      input, textarea {
        width: 100%;
        padding: 10px;
        margin-bottom: 20px;
        border-radius: 5px;
        border: 1px solid gray;
      }

      button {
        width: 20%;
        padding: 10px;
        background-color: lightblue;
        color: white;
        border-radius: 5px;
        border: none;
        cursor: pointer;
      }

      p {
        margin: 10px;
      }



</style>

